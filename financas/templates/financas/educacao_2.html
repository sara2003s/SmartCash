{% extends "financas/base.html" %}
{% block vars %}{% with sem_header=True %}{% endwith %}{% endblock %}
{% block title %}Configura√ß√µes{% endblock %}

{% block content %}
{% load static %}
<!-- Importando Lucide -->
<script src="https://unpkg.com/lucide@latest"></script>

<!-- Cabe√ßalho -->
<div class="mb-6">
    <h1 class="text-2xl font-bold">Educa√ß√£o Financeira</h1>
    <p class="text-gray-600">Aprenda a gerenciar suas finan√ßas e construir riqueza</p>
</div>

<!-- Abas -->
<div class="p-2 bg-[#f1f5f9] rounded-lg flex justify-between py-2 mb-6 ">
    <button class="tab-btn font-medium flex-1 text-center py-2 px-4 rounded-md bg-white text-black shadow-sm"
        data-tab="fundamentos">
        Fundamentos
    </button>
    <button class="tab-btn font-medium flex-1 text-center py-2 px-4 rounded-md text-gray-600 hover:text-black"
        data-tab="conteudo">
        Conte√∫do Pro
    </button>
    <button class="tab-btn font-medium flex-1 text-center py-2 px-4 rounded-md text-gray-600 hover:text-black"
        data-tab="ferramentas">
        Ferramentas
    </button>
</div>

<!-- Fundamentos -->
<div id="fundamentos" class="tab-content">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

        <!-- Card 1: Como Controlar os Gastos -->
        <div class="bg-white p-6 rounded-lg shadow">
            <div class="w-12 h-12 rounded-full flex items-center justify-center bg-blue-100 text-blue-600 mb-4">
                <i data-lucide="piggy-bank" class="w-6 h-6"></i>
            </div>
            <h2 class="text-xl font-semibold mb-0">Como Controlar os Gastos</h2>
            <p class="text-gray-600 mb-4">Aprenda t√©cnicas pr√°ticas para n√£o gastar mais do que ganha</p>

            <!-- Conte√∫do resumido -->
            <ul class="list-disc list-inside text-gray-700 space-y-1 mb-4">
                <li>üéØ Regra 50-30-20: 50% necessidades, 30% desejos, 20% poupan√ßa</li>
                <li>üì± Use apps para acompanhar gastos di√°rios</li>
                <li>üõí Fa√ßa lista de compras e evite compras por impulso</li>
                <li>‚è∞ Espere 24h antes de compras n√£o essenciais</li>
                <li>üí≥ Prefira d√©bito ao cr√©dito quando poss√≠vel</li>
            </ul>

            <!-- Conte√∫do extra -->
            <div id="extra1" class="hidden">
                <ul class="list-disc list-inside text-gray-700 space-y-1 mb-6">
                    <h2 class="text-600 font-medium mb-2">A Regra 50-30-20 Explicada</h2>
                    <p class="text-black-500 text-sm  mb-4">Esta regra divide sua renda l√≠quida em tr√™s categorias: 50%
                        para
                        necessidades (moradia, alimenta√ß√£o, transporte), 30% para desejos (lazer, entretenimento) e 20%
                        para poupan√ßa e investimentos.</p>
                    <h2 class="text-600 font-medium text-sm  mb-2">Controle de Impulsos</h2>
                    <p class="text-black-500 mb-4">T√©cnicas como a regra das 24 horas ajudam a evitar compras
                        desnecess√°rias. Quando quiser comprar algo n√£o essencial, anote e espere um dia para decidir.
                    </p>
                    <h2 class="text-600 font-medium mb-2">Planejamento de Compras</h2>
                    <p class="text-black-500 text-sm  mb-4">Sempre fa√ßa uma lista antes de ir ao supermercado ou
                        shopping. Isso
                        reduz em at√© 40% os gastos com itens desnecess√°rios.
                    </p>
                </ul>
            </div>

            <!-- Bot√£o -->
            <button onclick="toggleExtra('extra1', this)"
                class="w-full py-2 bg-white border border-[#e2e8f0] text-black rounded-md flex items-center justify-center gap-2 hover:bg-[#e2e8f0] transition">
                Ver Mais ‚Üì
            </button>
        </div>

        <!-- Card 2: Criando uma Reserva de Emerg√™ncia -->
        <div class="bg-white p-6 rounded-lg shadow">
            <div class="w-12 h-12 rounded-full flex items-center justify-center bg-green-100 text-green-600 mb-4">
                <i data-lucide="target" class="w-6 h-6"></i>
            </div>
            <h2 class="text-xl font-semibold mb-0">Criando uma Reserva de Emerg√™ncia</h2>
            <p class="text-gray-600 mb-4">Por que e como construir sua seguran√ßa financeira</p>

            <!-- Conte√∫do resumido -->
            <ul class="list-disc list-inside text-gray-700 space-y-1 mb-4">
                <li>üéØ Meta: 6 meses de gastos essenciais guardados</li>
                <li>üè¶ Mantenha em conta poupan√ßa ou CDB com liquidez</li>
                <li>üìà Comece com R$ 50-100 por m√™s</li>
                <li>üö® Use apenas para emerg√™ncias reais</li>
                <li>‚ö° Reponha sempre que usar</li>
            </ul>

            <!-- Conte√∫do extra -->
            <div id="extra2" class="hidden">
                <ul class="list-disc list-inside text-gray-700 space-y-1 mb-6">
                    <h2 class="text-600 font-medium mb-2">Por que 6 meses?</h2>
                    <p class="text-black-500 text-sm mb-4">Seis meses √© o tempo m√©dio para encontrar um novo emprego ou
                        resolver
                        uma emerg√™ncia financeira. Isso te d√° seguran√ßa para n√£o se endividar.</p>
                    <h2 class="text-600 font-medium mb-2">Onde Guardar</h2>
                    <p class="text-black-500 text-sm  mb-4">Escolha investimentos com liquidez di√°ria como poupan√ßa, CDB
                        de
                        liquidez di√°ria ou fundos DI. O importante √© ter acesso r√°pido ao dinheiro.</p>
                    <h2 class="text-600 font-medium mb-2">Como Come√ßar</h2>
                    <p class="text-black-500 text-sm  mb-4">Se n√£o conseguir guardar muito, comece com qualquer valor.
                        Mesmo R$
                        50 por m√™s j√° √© um in√≠cio. O h√°bito √© mais importante que o valor inicial.
                    </p>
                </ul>
            </div>

            <!-- Bot√£o -->
            <button onclick="toggleExtra('extra2', this)"
                class="w-full py-2 bg-white border border-[#e2e8f0] hover:bg-[#e2e8f0] transition text-black rounded-md flex items-center justify-center gap-2">
                Ver Mais ‚Üì
            </button>
        </div>

        <!-- Card 3: Planejamento Financeiro B√°sico -->
        <div class="bg-white p-6 rounded-lg shadow">
            <div class="w-12 h-12 rounded-full flex items-center justify-center bg-[#f3e8ff] text-[#9333ea] mb-4">
                <i data-lucide="chart-column" class="w-6 h-6"></i>
            </div>
            <h2 class="text-xl font-semibold mb-0">Planejamento Financeiro B√°sico</h2>
            <p class="text-gray-600 mb-4">Primeiros passos para organizar sua vida financeira</p>

            <!-- Conte√∫do resumido -->
            <ul class="list-disc list-inside text-gray-700 space-y-1 mb-4">
                <li>üìä Anote todas as receitas e despesas</li>
                <li>üéØ Defina metas financeiras claras</li>
                <li>üìÖ Revise seu or√ßamento mensalmente</li>
                <li>üí∞ Quite d√≠vidas mais caras primeiro</li>
                <li>üìö Invista em educa√ß√£o financeira</li>
            </ul>

            <!-- Conte√∫do extra -->
            <div id="extra3" class="hidden">
                <ul class="list-disc list-inside text-gray-700 space-y-1 mb-6">
                    <h2 class="text-600 font-medium mb-2">Controle de Gastos</h2>
                    <p class="text-black-500 text-sm  mb-4">Use planilhas ou apps para anotar todos os gastos por 30
                        dias. Isso revelar√° onde seu dinheiro realmente vai e quais gastos podem ser cortados.</p>
                    <h2 class="text-600 font-medium text-sm  mb-2">Metas SMART</h2>
                    <p class="text-black-500 mb-4">Defina metas Espec√≠ficas, Mensur√°veis, Ating√≠veis, Relevantes e
                        Temporais. Ex: 'Guardar R$ 3.000 em 12 meses para viajar'.
                    </p>
                    <h2 class="text-600 font-medium mb-2">Prioriza√ß√£o de D√≠vidas</h2>
                    <p class="text-black-500 text-sm  mb-4">Quite primeiro as d√≠vidas com juros mais altos (cart√£o de
                        cr√©dito, cheque especial). Depois as com juros menores (financiamentos).
                        reduz em at√© 40% os gastos com itens desnecess√°rios.
                    </p>
                </ul>
            </div>

            <!-- Bot√£o -->
            <button onclick="toggleExtra('extra3', this)"
                class="w-full py-2 bg-white border border-[#e2e8f0] hover:bg-[#e2e8f0] transition text-black rounded-md flex items-center justify-center gap-2">
                Ver Mais ‚Üì
            </button>
        </div>

        <!-- Card 4: Introdu√ß√£o aos Investimentos -->
        <div class="bg-white p-6 rounded-lg shadow">
            <div class="w-12 h-12 rounded-full flex items-center justify-center bg-[#ffedd5] text-[#ea580c] mb-4">
                <i data-lucide="trending-up" class="w-6 h-6"></i>
            </div>
            <h2 class="text-xl font-semibold mb-0">Introdu√ß√£o aos Investimentos</h2>
            <p class="text-gray-600 mb-4">Conceitos b√°sicos para come√ßar a investir</p>

            <!-- Conte√∫do resumido -->
            <ul class="list-disc list-inside text-gray-700 space-y-1 mb-4">
                <li>üè¶ Comece com Tesouro Direto (renda fixa)</li>
                <li>üìà Diversifique seus investimentos</li>
                <li>‚è∞ Invista pensando no longo prazo</li>
                <li>üìö Estude antes de investir</li>
                <li>üí∏ Nunca invista dinheiro que voc√™ precisa</li>
            </ul>
            
            <!-- Conte√∫do extra -->
            <div id="extra4" class="hidden">
                <ul class="list-disc list-inside text-gray-700 space-y-1 mb-6">
                    <h2 class="text-600 font-medium mb-2">Tesouro Direto para Iniciantes</h2>
                    <p class="text-black-500 text-sm  mb-4">√â o investimento mais seguro do pa√≠s, garantido pelo governo. T√≠tulos
                        como Tesouro Selic s√£o ideais para quem est√° come√ßando.</p>
                    <h2 class="text-600 font-medium text-sm  mb-2">Diversifica√ß√£o</h2>
                    <p class="text-black-500 mb-4">N√£o coloque todos os ovos na mesma cesta. Diversifique entre renda fixa, a√ß√µes,
                        fundos imobili√°rios para reduzir riscos.</p>
                    <h2 class="text-600 font-medium mb-2">Paci√™ncia nos Investimentos</h2>
                    <p class="text-black-500 text-sm  mb-4">O tempo √© seu maior aliado. Juros compostos funcionam melhor no longo
                        prazo. Evite resgatar investimentos frequentemente.</p>
                </ul>
            </div>
            
            <!-- Bot√£o -->
            <button onclick="toggleExtra('extra4', this)"
                class="w-full py-2 bg-white border border-[#e2e8f0] hover:bg-[#e2e8f0] transition text-black rounded-md flex items-center justify-center gap-2">
                Ver Mais ‚Üì
            </button>
        </div>

    </div>
</div>


<!-- Conte√∫do Pro -->
<div id="conteudo" class="tab-content hidden">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

        <!-- Bloco 1 -->
        <div class="bg-white p-6 rounded-lg shadow relative">
            <span class="absolute top-4 right-4 bg-purple-100 text-purple-600 text-sm px-3 py-1 rounded-full">Pro</span>
            <div class="w-12 h-12 rounded-full flex items-center justify-center bg-purple-100 text-purple-600 mb-4">
                <i data-lucide="bar-chart-3" class="w-6 h-6"></i>
            </div>
            <h2 class="text-xl font-bold mb-2">An√°lise Avan√ßada de Mercado</h2>
            <p class="text-gray-600 mb-4">Entenda indicadores econ√¥micos e como afetam seus investimentos</p>
            <ul class="list-disc list-inside text-gray-700 space-y-1 mb-4">
                <li>Taxa Selic e seus impactos</li>
                <li>Infla√ß√£o e poder de compra</li>
                <li>√çndices de bolsa</li>
                <li>An√°lise fundamentalista</li>
            </ul>
            <button class="w-full py-2 bg-[#262d3f] text-white rounded-md flex items-center justify-center gap-2">
                <i data-lucide="play" class="w-5 h-5"></i> Acessar Conte√∫do
            </button>
        </div>

        <!-- Bloco 2 -->
        <div class="bg-white p-6 rounded-lg shadow relative">
            <span class="absolute top-4 right-4 bg-purple-100 text-purple-600 text-sm px-3 py-1 rounded-full">Pro</span>
            <div class="w-12 h-12 rounded-full flex items-center justify-center bg-purple-100 text-purple-600 mb-4">
                <i data-lucide="line-chart" class="w-6 h-6"></i>
            </div>
            <h2 class="text-xl font-bold mb-2">Estrat√©gias de Investimento</h2>
            <p class="text-gray-600 mb-4">T√©cnicas avan√ßadas para maximizar seus rendimentos</p>
            <ul class="list-disc list-inside text-gray-700 space-y-1 mb-4">
                <li>Diversifica√ß√£o de carteira</li>
                <li>Rebalanceamento</li>
                <li>Dollar Cost Averaging</li>
                <li>An√°lise de risco</li>
            </ul>
            <button class="w-full py-2 bg-[#262d3f] text-white rounded-md flex items-center justify-center gap-2">
                <i data-lucide="play" class="w-5 h-5"></i> Acessar Conte√∫do
            </button>
        </div>

        <!-- Bloco 3 -->
        <div class="bg-white p-6 rounded-lg shadow relative">
            <span class="absolute top-4 right-4 bg-purple-100 text-purple-600 text-sm px-3 py-1 rounded-full">Pro</span>
            <div class="w-12 h-12 rounded-full flex items-center justify-center bg-purple-100 text-purple-600 mb-4">
                <i data-lucide="wallet" class="w-6 h-6"></i>
            </div>
            <h2 class="text-xl font-bold mb-2">Planejamento Tribut√°rio</h2>
            <p class="text-gray-600 mb-4">Como otimizar seus impostos legalmente</p>
            <ul class="list-disc list-inside text-gray-700 space-y-1 mb-4">
                <li>Imposto de Renda em investimentos</li>
                <li>Regime de tributa√ß√£o</li>
                <li>Dedu√ß√µes de IR</li>
                <li>Previd√™ncia privada</li>
            </ul>
            <button class="w-full py-2 bg-[#262d3f] text-white rounded-md flex items-center justify-center gap-2">
                <i data-lucide="play" class="w-5 h-5"></i> Acessar Conte√∫do
            </button>
        </div>
    </div>
</div>

<!-- Ferramentas -->
<div id="ferramentas" class="tab-content hidden">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

        <!-- Simulador de Juros Compostos -->
        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-xl font-semibold mb-1 flex items-center gap-2">
                <i data-lucide="calculator" class="w-5 h-5 text-blue-600"></i>
                Simulador de Juros Compostos
            </h2>
            <p class="text-gray-600 mb-4">Descubra quanto seu dinheiro pode render ao longo do tempo</p>

            <label class="block text-sm font-medium text-gray-700">Valor Inicial (R$)</label>
            <input type="number" id="valorInicial" placeholder="Ex: 1000" class="w-full p-2 border rounded mb-3">

            <label class="block text-sm font-medium text-gray-700">Taxa de Juros (%)</label>
            <input type="number" id="juros" placeholder="Ex: 10" class="w-full p-2 border rounded mb-3">

            <label class="block text-sm font-medium text-gray-700">Per√≠odo (anos)</label>
            <input type="number" id="anos" placeholder="Ex: 2" class="w-full p-2 border rounded mb-4">

            <button onclick="calcularJuros()"
                class="w-full py-2 bg-[#262d3f] text-white rounded-md flex items-center justify-center gap-2">
                <i data-lucide="calculator" class="w-5 h-5"></i> Simular
            </button>

            <!-- Resultado do simulador de juros -->
            <div id="resultadoJuros" class="mt-4 hidden bg-blue-50 p-4 rounded-lg text-blue-800"></div>
        </div>

        <!-- Simulador de Metas -->
        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-xl font-semibold mb-1 flex items-center gap-2">
                <i data-lucide="target" class="w-5 h-5 text-green-600"></i>
                Simulador de Metas
            </h2>
            <p class="text-gray-600 mb-4">Descubra quanto tempo levar√° para atingir suas metas</p>

            <label class="block text-sm font-medium text-gray-700">Meta (R$)</label>
            <input type="number" id="meta" placeholder="Ex: 10000" class="w-full p-2 border rounded mb-3">

            <label class="block text-sm font-medium text-gray-700">Valor Mensal (R$)</label>
            <input type="number" id="mensal" placeholder="Ex: 500" class="w-full p-2 border rounded mb-3">

            <label class="block text-sm font-medium text-gray-700">Valor Atual (R$)</label>
            <input type="number" id="atual" placeholder="Ex: 1000 (opcional)" class="w-full p-2 border rounded mb-4">

            <button onclick="calcularMeta()"
                class="w-full py-2 bg-[#262d3f] text-white rounded-md flex items-center justify-center gap-2">
                <i data-lucide="target" class="w-5 h-5"></i> Simular
            </button>

            <!-- Resultado do simulador de metas -->
            <div id="resultadoMeta" class="mt-4 hidden bg-blue-50 p-4 rounded-lg text-blue-800"></div>
        </div>
    </div>


</div>
</div>

<!-- Script Tabs + Lucide -->
<script>
    const tabs = document.querySelectorAll('.tab-btn');
    const contents = document.querySelectorAll('.tab-content');

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => {
                t.classList.remove('bg-white', 'text-black', 'shadow-sm');
                t.classList.add('text-gray-600');
            });
            tab.classList.add('bg-white', 'text-black', 'shadow-sm');
            tab.classList.remove('text-gray-600');
            contents.forEach(c => c.classList.add('hidden'));
            document.getElementById(tab.dataset.tab).classList.remove('hidden');
        });
    });

    // Ativa os √≠cones do Lucide
    lucide.createIcons();
    function calcularJuros() {
        let valor = parseFloat(document.getElementById("valorInicial").value) || 0;
        let taxa = parseFloat(document.getElementById("taxa").value) / 100;
        let anos = parseInt(document.getElementById("periodo").value) || 0;

        let montante = valor * Math.pow((1 + taxa), anos);

        document.getElementById("resultado").innerHTML =
            `üìà Em ${anos} anos voc√™ ter√° <b>R$ ${montante.toFixed(2)}</b>`;
    }
    function calcularJuros() {
        let valorInicial = parseFloat(document.getElementById("valorInicial").value) || 0;
        let juros = parseFloat(document.getElementById("juros").value) / 100 || 0;
        let anos = parseFloat(document.getElementById("anos").value) || 0;
        let resultadoDiv = document.getElementById("resultadoJuros");

        if (valorInicial <= 0 || juros <= 0 || anos <= 0) {
            resultadoDiv.innerHTML = "<b>‚ö†Ô∏è Preencha todos os campos corretamente.</b>";
            resultadoDiv.classList.remove("hidden");
            return;
        }

        let valorFinal = valorInicial * Math.pow((1 + juros), anos);
        let jurosGanhos = valorFinal - valorInicial;

        resultadoDiv.innerHTML = `
    <p><b>Resultado:</b></p>
    <p>Valor inicial: R$ ${valorInicial.toLocaleString("pt-BR", { minimumFractionDigits: 2 })}</p>
    <p>Juros ganhos: R$ ${jurosGanhos.toLocaleString("pt-BR", { minimumFractionDigits: 2 })}</p>
    <p>Valor final: R$ ${valorFinal.toLocaleString("pt-BR", { minimumFractionDigits: 2 })}</p>
  `;
        resultadoDiv.classList.remove("hidden");
    }

    function calcularMeta() {
        let meta = parseFloat(document.getElementById("meta").value) || 0;
        let mensal = parseFloat(document.getElementById("mensal").value) || 0;
        let atual = parseFloat(document.getElementById("atual").value) || 0;
        let resultadoDiv = document.getElementById("resultadoMeta");

        if (meta <= 0 || mensal <= 0) {
            resultadoDiv.innerHTML = "<b>‚ö†Ô∏è Preencha todos os campos corretamente.</b>";
            resultadoDiv.classList.remove("hidden");
            return;
        }

        let meses = Math.ceil((meta - atual) / mensal);

        if (meses <= 0) {
            resultadoDiv.innerHTML = "<b>üéâ Voc√™ j√° atingiu sua meta!</b>";
            resultadoDiv.classList.remove("hidden");
            return;
        }

        let anos = Math.floor(meses / 12);
        let restoMeses = meses % 12;

        resultadoDiv.innerHTML = `
    <p><b>Resultado:</b></p>
    <p>Meta desejada: R$ ${meta.toLocaleString("pt-BR", { minimumFractionDigits: 2 })}</p>
    <p>Valor mensal: R$ ${mensal.toLocaleString("pt-BR", { minimumFractionDigits: 2 })}</p>
    <p>Tempo estimado: ${anos} anos e ${restoMeses} meses</p>
  `;
        resultadoDiv.classList.remove("hidden");
    }
    function toggleExtra(id, btn) {
        const content = document.getElementById(id);
        content.classList.toggle("hidden");

        if (content.classList.contains("hidden")) {
            btn.innerText = "Ver Mais ‚Üì";
        } else {
            btn.innerText = "Ver Menos ‚Üë";
        }
    }

</script>


{% endblock %}