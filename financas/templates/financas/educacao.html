{% load static %}
<script src="https://unpkg.com/lucide@latest"></script>
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Educa√ß√£o Financeira</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 min-h-screen">

    <!-- Header -->
    <div class="bg-white border-b">
        <div class="container mx-auto px-4 py-6 flex items-center justify-between">
            <div class="flex items-center gap-6">
                <a href="{% url 'financas:inicio' %}" class="back-button">
                    <i data-lucide="arrow-left" class="w-7 h-7"></i>
                </a>
                <div>
                    <h1 class="text-3xl font-bold" style="color: #212e3e;">Educa√ß√£o Financeira</h1>
                    <p class="text-gray-600">Aprenda a gerenciar suas finan√ßas e construir riqueza</p>
                </div>
            </div> 
            {% if not is_pro %}
            <button
                class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-4 py-2 rounded flex items-center ml-auto">
                <span class="mr-2">üëë</span> Upgrade para Pro
            </button>
            {% endif %}
        </div>
    </div>
    
    <div class="container mx-auto px-4 py-8">

        <!-- Tabs -->
        <div class="p-2 bg-gray-100 rounded-lg flex space-x-2 justify-between mb-6">
            <button id="tab-basics" onclick="showTab('basics', this)"
                class="flex-1 text-center py-2 px-4 rounded text-gray-700">Fundamentos</button>
            <button id="tab-advanced" onclick="showTab('advanced', this)"
                class="flex-1 text-center py-2 px-4 rounded text-gray-700">Conte√∫do Pro</button>
            <button id="tab-tools" onclick="showTab('tools', this)"
                class="flex-1 text-center py-2 px-4 rounded text-gray-700">Ferramentas</button>
        </div>

        <!-- Conte√∫do das Se√ß√µes -->

        <!-- Fundamentos -->
        <div id="basics" class="tab-content hidden">
            <div class="grid md:grid-cols-2 gap-6">
                {% for item in basic_content %}
                <div class="bg-white p-4 rounded shadow hover:shadow-lg transition">
                    <div class="flex items-center mb-2">
                        <div
                            class="w-12 h-12 {{ item.color_class }} flex items-center justify-center rounded-lg mr-2 text-2xl">
                            {% if item.icon == 'piggy-bank' %}üêñ{% elif item.icon == 'target' %}üéØ{% elif item.icon == 'bar-chart' %}üìä{% elif item.icon == 'trending-up' %}üìà{% endif %}
                        </div>
                        <h3 class="font-bold" style="color: #212e3e;">{{ item.title }}</h3>
                    </div>
                    <p class="text-gray-600 mb-2">{{ item.description }}</p>
                    <ul class="list-disc list-inside mb-2">
                        {% for point in item.content %}
                        <li>{{ point }}</li>
                        {% endfor %}
                    </ul>
                    <div class="flex space-x-2 mt-2">
                        <!-- Bot√£o "Ver Mais" com largura e altura fixas -->
                        <a href="{% url 'financas:aulas' %}" class="btn px-3 py-2 bg-[#262d3f] text-white rounded">
                            Ver Mais
                        </a>
                        <a href="{% url 'financas:aulas' %}" class="px-3 py-2 bg-white border border-gray-300 text-black rounded flex items-center justify-center gap-2">
                            <i data-lucide="play" class="w-6 h-6"></i>Ver Mais
                        </a>
                    </div>
                    </div>
                    {% endfor%}
                    </div>
                    </div>

        <!-- Conte√∫do Pro -->
        <div id="advanced" class="tab-content hidden">
            <div class="grid md:grid-cols-2 gap-6">
                {% for item in pro_content %}
                <div class="bg-white p-4 rounded shadow relative {% if not is_pro %}opacity-50{% endif %}">
                    {% if not is_pro %}
                    <div
                        class="absolute inset-0 bg-white/50 backdrop-blur-sm flex items-center justify-center rounded z-10">
                        <div class="text-center">
                            üîí<p class="text-sm font-medium text-gray-600 mt-1">Conte√∫do Pro</p>
                        </div>
                    </div>
                    {% endif %}
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center space-x-2">
                            <div
                                class="w-12 h-12 bg-purple-100 flex items-center justify-center rounded-lg text-purple-600 text-xl">
                                {% if item.icon == 'bar-chart' %}üìä{% elif item.icon == 'trending-up' %} üìà{% elif item.icon == 'calculator' %}üßÆ{% elif item.icon == 'file-text' %}üìÑ{% endif %}
                            </div>
                            <h3 class="font-bold" style="color: #212e3e;">{{ item.title }}</h3>
                        </div>
                        <span
                            class="bg-purple-100 text-purple-700 px-2 py-1 rounded flex items-center text-sm font-medium">
                            üëë Pro
                        </span>
                    </div>
                    <p class="text-gray-600 mb-2">{{ item.description }}</p>
                    <ul class="list-disc list-inside mb-2">
                        {% for topic in item.topics %}
                        <li>{{ topic }}</li>
                        {% endfor %}
                    </ul>
                    <button
                        class="w-full mt-2 rounded px-3 py-1 {% if is_pro %}bg-[#262d3f] text-white hover:bg-purple-600{% else %}border border-purple-500 text-purple-500 hover:bg-purple-50{% endif %}">
                        {% if is_pro %}Acessar Conte√∫do {% else %}Fazer Upgrade{% endif %}
                    </button>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Ferramentas -->
        <div id="tools" class="tab-content hidden">
            <div class="bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg shadow-md border border-gray-200">
                <h2 class="text-2xl font-bold mb-6" style="color: #212e3e;">Ferramentas Educacionais SmartCash</h2>
                <p class="text-gray-600 mb-4">Explore nossa su√≠te de ferramentas projetadas para acelerar seu
                    aprendizado financeiro. Cada ferramenta oferece simula√ß√µes pr√°ticas e c√°lculos precisos para
                    diferentes cen√°rios financeiros.</p>
        
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                        <div class="flex items-center mb-1">
                            <span class="text-blue-600 text-2xl mr-2">üí°</span>
                            <h4 class="font-bold text-blue-600">Simula√ß√µes Interativas</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Teste diferentes cen√°rios e veja resultados em tempo real</p>
                    </div>
        
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                        <div class="flex items-center mb-1">
                            <span class="text-green-600 text-2xl mr-2">üìä</span>
                            <h4 class="font-bold text-green-600">C√°lculos Precisos</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Algoritmos financeiros profissionais para resultados confi√°veis
                        </p>
                    </div>
        
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                        <div class="flex items-center mb-1">
                            <span class="text-purple-600 text-2xl mr-2">üéØ</span>
                            <h4 class="font-bold text-purple-600">Estrat√©gias Personalizadas</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Recomenda√ß√µes baseadas no seu perfil e objetivos</p>
                    </div>
                </div>
            </div>
            <p class="text-gray-600 mt-6"></p>
            <!-- Primeira Linha de Cart√µes (agora com espa√ßamento inferior) -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition">
                    <div class="flex items-center mb-2">
                        <div class="w-12 h-12 flex items-center justify-center rounded-full mr-3 text-2xl text-blue-600">
                            üßÆ
                        </div>
                        <h3 class="font-bold text-gray-900 text-xl">Calculadora de Juros Compostos</h3>
                    </div>
                    <p class="text-gray-600 mb-4">Descubra o poder dos juros compostos e calcule o crescimento do seu
                        dinheiro ao longo do tempo</p>
                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                        <li>Simula√ß√£o de diferentes aportes mensais</li>
                        <li>Compara√ß√£o de taxas de juros</li>
                        <li>Proje√ß√µes de longo prazo</li>
                    </ul>
            
                    <button id="showCalculatorForm"
                        class="w-full mt-4 px-4 py-2 bg-[#212e3e] text-white rounded-md hover:bg-[#1b2632] transition">Usar
                        Calculadora</button>
            
                    <div id="calculatorForm" style="display: none;" class="mt-6 border-t border-gray-200 pt-6">
                        <form>
                            <div class="mb-4">
                                <label for="initialValue" class="block text-sm font-medium text-gray-700">Valor Inicial
                                    (R$)</label>
                                <input type="number" id="initialValue" placeholder="Ex: 1000"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                            </div>
                            <div class="mb-4">
                                <label for="interestRate" class="block text-sm font-medium text-gray-700">Taxa de Juros
                                    (%)</label>
                                <input type="number" id="interestRate" placeholder="Ex: 10"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                            </div>
                            <div class="mb-6">
                                <label for="period" class="block text-sm font-medium text-gray-700">Per√≠odo (anos)</label>
                                <input type="number" id="period" placeholder="Ex: 2"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                            </div>
                            <button type="submit"
                                class="w-full px-4 py-2 bg-[#212e3e] text-white rounded-md hover:bg-[#1b2632] transition flex items-center justify-center gap-2">
                                <div class="w-5 h-5"></div>
                                Simular
                            </button>
                        </form>
                        <div id="result" class="mt-4 p-4 bg-gray-50 rounded-md hidden">
                </div>
                    </div>
            
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition">
                    <div class="flex items-center mb-2">
                        <div class="w-12 h-12 flex items-center justify-center rounded-full mr-3 text-2xl text-green-600">
                            üéØ
                        </div>
                        <h3 class="font-bold text-gray-900 text-xl">Simulador de Aposentadoria</h3>
                    </div>
                    <p class="text-gray-600 mb-4">Planeje sua aposentadoria e descubra quanto precisa guardar
                        mensalmente</p>
                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                        <li>C√°lculo baseado na idade desejada</li>
                        <li>Considera√ß√£o da infla√ß√£o</li>
                        <li>M√∫ltiplos cen√°rios de renda</li>
                    </ul>
            
                    <button id="showRetirementForm"
                        class="w-full mt-4 px-4 py-2 border border-black-600 text-[#212e3e]-600 rounded-md hover:bg-[#f4f6ff] transition">Simular</button>
            
                    <div id="retirementForm" style="display: none;" class="mt-6 border-t border-gray-200 pt-6">
                        <form>
                            <div class="mb-4">
                                <label for="currentAge" class="block text-sm font-medium text-gray-700">Sua Idade Atual</label>
                                <input type="number" id="currentAge" placeholder="Ex: 30"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm">
                            </div>
                            <div class="mb-4">
                                <label for="retirementAge" class="block text-sm font-medium text-gray-700">Idade Desejada para
                                    Aposentadoria</label>
                                <input type="number" id="retirementAge" placeholder="Ex: 65"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm">
                            </div>
                            <div class="mb-6">
                                <label for="monthlyContribution" class="block text-sm font-medium text-gray-700">Valor que pode
                                    guardar
                                    por m√™s (R$)</label>
                                <input type="number" id="monthlyContribution" placeholder="Ex: 500"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm">
                            </div>
                            <button type="submit" class="w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition">Calcular
                                Aposentadoria</button>
                            </form>
                             <div id="result" class="mt-4 p-4 bg-gray-50 rounded-md hidden"></div>
                            </div>
                            </div>
                            
                            <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition">
                                <div class="flex items-center mb-2">
                                    <div class="w-12 h-12 flex items-center justify-center rounded-full mr-3 text-2xl text-orange-600">
                                        üí≤
                                    </div>
                                    <h3 class="font-bold text-gray-900 text-xl">Calculadora de Financiamento</h3>
                                </div>
                                <p class="text-gray-600 mb-4">Simule financiamentos imobili√°rios e compare diferentes condi√ß√µes</p>
                                <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                                    <li>Sistema SAC vs. Tabela Price</li>
                                    <li>Impacto da entrada</li>
                                    <li>Amortiza√ß√£o extraordin√°ria</li>
                                </ul>
                            
                                <button id="showFinancingForm"
                                    class="w-full mt-4 px-4 py-2 border border-black-600 text-[#212e3e]-600 rounded-md hover:bg-[#f4f6ff] transition">Calcular</button>
                            
                                <div id="financingForm" style="display: none;" class="mt-6 border-t border-gray-200 pt-6">                                    <form>
                                        <div class="mb-4">
                                            <label for="loanAmount" class="block text-sm font-medium text-gray-700">Valor do Financiamento
                                                (R$)</label>
                                            <input type="number" id="loanAmount" placeholder="Ex: 300000"
                                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm">
                                        </div>
                                        <div class="mb-4">
                                            <label for="interestRateFinancing" class="block text-sm font-medium text-gray-700">Taxa de Juros Anual
                                                (%)</label>
                                            <input type="number" id="interestRateFinancing" placeholder="Ex: 8"
                                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm">
                                        </div>
                                        <div class="mb-6">
                                            <label for="loanTerm" class="block text-sm font-medium text-gray-700">Prazo (anos)</label>
                                            <input type="number" id="loanTerm" placeholder="Ex: 30"
                                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm">
                                        </div>
                                        <button type="submit"
                                            class="w-full px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition">Calcular
                                            Financiamento</button>
                                    </form>
                                    <div id="result" class="mt-4 p-4 bg-gray-50 rounded-md hidden"></div>
                                </div>
                            </div>
                            </div>

            <!-- Segunda Linha de Cart√µes -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition">
    <div class="flex items-center mb-2">
        <div class="w-12 h-12 flex items-center justify-center rounded-full mr-3 text-2xl text-purple-600">
            üìà
        </div>
        <h3 class="font-bold text-gray-900 text-xl">Simulador de Investimentos</h3>
    </div>
    <p class="text-gray-600 mb-4">Compare diferentes produtos de investimento e suas rentabilidades</p>
    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
        <li>Renda fixa vs. renda vari√°vel</li>
        <li>Simula√ß√£o de diversifica√ß√£o</li>
        <li>An√°lise de risco-retorno</li>
    </ul>
    
    <button id="showInvestmentForm"
        class="w-full mt-4 px-4 py-2 border border-black-600 text-[#212e3e]-600 rounded-md hover:bg-[#f4f6ff] transition">Simular</button>
    
    <div id="investmentForm" style="display: none;" class="mt-6 border-t border-gray-200 pt-6">
        <form>
            <div class="mb-4">
                <label for="initialInvestment" class="block text-sm font-medium text-gray-700">Investimento Inicial (R$)</label>
                <input type="number" id="initialInvestment" placeholder="Ex: 5000"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm">
            </div>
            <div class="mb-4">
                <label for="monthlyContribution" class="block text-sm font-medium text-gray-700">Aporte Mensal (R$)</label>
                <input type="number" id="monthlyContribution" placeholder="Ex: 200"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm">
            </div>
            <div class="mb-6">
                <label for="expectedReturn" class="block text-sm font-medium text-gray-700">Rentabilidade Anual (%)</label>
                <input type="number" id="expectedReturn" placeholder="Ex: 8"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm">
            </div>
            <button type="submit"
                class="w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition">Simular Investimento</button>
        </form>
        <div id=result" class="mt-4 p-4 bg-gray-50 rounded-md hidden"></div>
    </div>
</div>

<div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition">
    <div class="flex items-center mb-2">
        <div class="w-12 h-12 flex items-center justify-center rounded-full mr-3 text-2xl text-red-600">
            ‚ö†Ô∏è
        </div>
        <h3 class="font-bold text-gray-900 text-xl">Planejador de Reserva de Emerg√™ncia</h3>
    </div>
    <p class="text-gray-600 mb-4">Calcule o valor ideal para sua reserva de emerg√™ncia pessoal</p>
    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
        <li>Baseado no seu perfil de risco</li>
        <li>Considera gastos essenciais</li>
        <li>Estrat√©gia de acumula√ß√£o</li>
    </ul>

    <button id="showEmergencyForm"
        class="w-full mt-4 px-4 py-2 border border-black-600 text-[#212e3e]-600 rounded-md hover:bg-[#f4f6ff] transition">Planejar</button>

    <div id="emergencyForm" style="display: none;" class="mt-6 border-t border-gray-200 pt-6">
        <form>
            <div class="mb-4">
                <label for="monthlyExpenses" class="block text-sm font-medium text-gray-700">Seus gastos mensais essenciais (R$)</label>
                <input type="number" id="monthlyExpenses" placeholder="Ex: 2500"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm">
            </div>
            <div class="mb-4">
                <label for="riskProfile" class="block text-sm font-medium text-gray-700">Seu perfil de risco</label>
                <select id="riskProfile"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm">
                    <option value="conservador">Conservador (6 meses)</option>
                    <option value="moderado">Moderado (3 meses)</option>
                    <option value="arrojado">Arrojado (1 m√™s)</option>
                </select>
            </div>
            <button type="submit"
                class="w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition">Calcular Reserva</button>
        </form>
        <div id="result" class="mt-4 p-4 bg-gray-50 rounded-md hidden"></div>
    </div>
</div>

                <!-- An√°lise Avan√ßada de Carteira - Pro -->
                <div class="bg-white p-6 rounded-lg shadow-md relative {% if not is_pro %}opacity-50{% endif %}">
                    {% if not is_pro %}
                    <div
                        class="absolute inset-0 bg-white/50 backdrop-blur-sm flex items-center justify-center rounded z-10">
                        <div class="text-center">
                            üîí<p class="text-sm font-medium text-gray-600 mt-1">Pro</p>
                        </div>
                    </div>
                    {% endif %}
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center space-x-2">
                            <div
                                class="w-12 h-12 flex items-center justify-center rounded-full mr-3 text-2xl text-purple-600">
                                üìä</div>
                            <h3 class="font-bold text-gray-900 text-xl">An√°lise Avan√ßada de Carteira</h3>
                        </div>
                        <span
                            class="bg-purple-100 text-purple-700 px-2 py-1 rounded flex items-center text-sm font-medium">üëë
                            Pro</span>
                    </div>
                    <p class="text-gray-600 mb-4">An√°lise profissional completa dos seus investimentos com IA</p>
                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                        <li>An√°lise de correla√ß√£o de ativos</li>
                        <li>Rebalanceamento autom√°tico</li>
                        <li>Relat√≥rios personalizados</li>
                        <li>Alertas de oportunidades</li>
                    </ul>
                    <button
                        class="w-full mt-2 rounded px-3 py-1 {% if is_pro %}bg-[#262d3f] text-white hover:bg-purple-600{% else %}border border-purple-500 text-purple-500 hover:bg-purple-50{% endif %}">
                        {% if is_pro %}Acessar Conte√∫do {% else %}Upgrade Pro{% endif %}
                    </button>
                </div>
            </div>
        </div>
    </div>

    <style>
        .active-tab {
            background-color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
    </style>
<script>
    // Ativa os √≠cones do Lucide
    lucide.createIcons();
    function showTab(tabId, element) {
        // Esconde todo o conte√∫do
        document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
        document.getElementById(tabId).classList.remove('hidden');

        // Remove o estilo da aba ativa de todos os bot√µes
        document.querySelectorAll('.py-2').forEach(btn => btn.classList.remove('active-tab'));

        // Adiciona o estilo apenas ao bot√£o clicado
        element.classList.add('active-tab');
    }

    // Garante que a aba 'Fundamentos' seja a inicial ao carregar a p√°gina
    document.addEventListener('DOMContentLoaded', () => {
        showTab('basics', document.getElementById('tab-basics'));
    });

    document.addEventListener('DOMContentLoaded', function () {
        // Fun√ß√£o gen√©rica para alternar formul√°rios
        function toggleForm(buttonId, formId) {
            const button = document.getElementById(buttonId);
            const form = document.getElementById(formId);
            button.addEventListener('click', function () {
                form.style.display = (form.style.display === 'none' || form.style.display === '') ? 'block' : 'none';
            });
        }

        // Alterna todos os formul√°rios
        toggleForm('showCalculatorForm', 'calculatorForm');
        toggleForm('showRetirementForm', 'retirementForm');
        toggleForm('showFinancingForm', 'financingForm');
        toggleForm('showInvestmentForm', 'investmentForm');
        toggleForm('showEmergencyForm', 'emergencyForm');

        // --- Juros Compostos ---
        const calculatorForm = document.querySelector('#calculatorForm form');
        const calculatorResult = document.getElementById('result');

        calculatorForm.addEventListener('submit', function (e) {
            e.preventDefault();
            const P = parseFloat(document.getElementById('initialValue').value);
            const r = parseFloat(document.getElementById('interestRate').value) / 100;
            const t = parseFloat(document.getElementById('period').value);

            if (isNaN(P) || isNaN(r) || isNaN(t)) {
                calculatorResult.innerHTML = `<p class="text-red-600 font-semibold">Preencha todos os campos corretamente!</p>`;
            } else {
                const FV = P * Math.pow((1 + r), t);
                calculatorResult.innerHTML = `
                <p class="font-bold text-gray-900">Resultado:</p>
                <p>O valor final ap√≥s <span class="font-semibold">${t} anos</span> ser√°: 
                <span class="text-blue-600 font-semibold">R$ ${FV.toFixed(2)}</span></p>
            `;
            }
            calculatorResult.classList.remove('hidden');
        });

        // --- Simulador de Aposentadoria ---
        const retirementFormEl = document.querySelector('#retirementForm form');
        const retirementResult = document.createElement('div');
        retirementResult.className = 'mt-4 p-4 bg-gray-50 rounded-md hidden';
        document.getElementById('retirementForm').appendChild(retirementResult);

        retirementFormEl.addEventListener('submit', function (e) {
            e.preventDefault();
            const currentAge = parseInt(document.getElementById('currentAge').value);
            const retirementAge = parseInt(document.getElementById('retirementAge').value);
            const monthlyContribution = parseFloat(document.getElementById('monthlyContribution').value);

            if (isNaN(currentAge) || isNaN(retirementAge) || isNaN(monthlyContribution)) {
                retirementResult.innerHTML = `<p class="text-red-600 font-semibold">Preencha todos os campos corretamente!</p>`;
            } else if (retirementAge <= currentAge) {
                retirementResult.innerHTML = `<p class="text-red-600 font-semibold">A idade de aposentadoria deve ser maior que a atual.</p>`;
            } else {
                const years = retirementAge - currentAge;
                const totalSaved = monthlyContribution * 12 * years;
                retirementResult.innerHTML = `
                <p class="font-bold text-gray-900">Resultado:</p>
                <p>Ao se aposentar aos <span class="font-semibold">${retirementAge}</span> anos, voc√™ ter√° acumulado aproximadamente: 
                <span class="text-green-600 font-semibold">R$ ${totalSaved.toFixed(2)}</span></p>
            `;
            }
            retirementResult.classList.remove('hidden');
        });

        // --- Financiamento ---
        const financingFormEl = document.querySelector('#financingForm form');
        const financingResult = document.createElement('div');
        financingResult.className = 'mt-4 p-4 bg-gray-50 rounded-md hidden';
        document.getElementById('financingForm').appendChild(financingResult);

        financingFormEl.addEventListener('submit', function (e) {
            e.preventDefault();
            const loanAmount = parseFloat(document.getElementById('loanAmount').value);
            const rate = parseFloat(document.getElementById('interestRateFinancing').value) / 100;
            const term = parseInt(document.getElementById('loanTerm').value);

            if (isNaN(loanAmount) || isNaN(rate) || isNaN(term)) {
                financingResult.innerHTML = `<p class="text-red-600 font-semibold">Preencha todos os campos corretamente!</p>`;
            } else {
                // F√≥rmula simplificada: Valor total aproximado sem amortiza√ß√£o detalhada
                const totalPay = loanAmount * Math.pow(1 + rate, term);
                financingResult.innerHTML = `
                <p class="font-bold text-gray-900">Resultado:</p>
                <p>O valor total a ser pago ap√≥s <span class="font-semibold">${term} anos</span> ser√°: 
                <span class="text-orange-600 font-semibold">R$ ${totalPay.toFixed(2)}</span></p>
            `;
            }
            financingResult.classList.remove('hidden');
        });

        // --- Investimento ---
        const investmentFormEl = document.querySelector('#investmentForm form');
        const investmentResult = document.createElement('div');
        investmentResult.className = 'mt-4 p-4 bg-gray-50 rounded-md hidden';
        document.getElementById('investmentForm').appendChild(investmentResult);

        investmentFormEl.addEventListener('submit', function (e) {
            e.preventDefault();
            const initial = parseFloat(document.getElementById('initialInvestment').value);
            const monthly = parseFloat(document.getElementById('monthlyContribution').value);
            const rate = parseFloat(document.getElementById('expectedReturn').value) / 100;
            const years = 10; // ou voc√™ pode adicionar input para per√≠odo

            if (isNaN(initial) || isNaN(monthly) || isNaN(rate)) {
                investmentResult.innerHTML = `<p class="text-red-600 font-semibold">Preencha todos os campos corretamente!</p>`;
            } else {
                let FV = initial;
                for (let i = 0; i < years; i++) {
                    FV = (FV + monthly * 12) * (1 + rate);
                }
                investmentResult.innerHTML = `
                <p class="font-bold text-gray-900">Resultado:</p>
                <p>Ap√≥s <span class="font-semibold">${years} anos</span>, seu investimento ser√° aproximadamente: 
                <span class="text-purple-600 font-semibold">R$ ${FV.toFixed(2)}</span></p>
            `;
            }
            investmentResult.classList.remove('hidden');
        });

        // --- Reserva de Emerg√™ncia ---
        const emergencyFormEl = document.querySelector('#emergencyForm form');
        const emergencyResult = document.createElement('div');
        emergencyResult.className = 'mt-4 p-4 bg-gray-50 rounded-md hidden';
        document.getElementById('emergencyForm').appendChild(emergencyResult);

        emergencyFormEl.addEventListener('submit', function (e) {
            e.preventDefault();
            const monthlyExpenses = parseFloat(document.getElementById('monthlyExpenses').value);
            const profile = document.getElementById('riskProfile').value;

            if (isNaN(monthlyExpenses)) {
                emergencyResult.innerHTML = `<p class="text-red-600 font-semibold">Preencha os gastos corretamente!</p>`;
            } else {
                let months = 6; // conservador
                if (profile === 'moderado') months = 3;
                else if (profile === 'arrojado') months = 1;

                const reserve = monthlyExpenses * months;
                emergencyResult.innerHTML = `
                <p class="font-bold text-gray-900">Resultado:</p>
                <p>Voc√™ deve ter uma reserva de aproximadamente: 
                <span class="text-red-600 font-semibold">R$ ${reserve.toFixed(2)}</span> (${months} meses de gastos)</p>
            `;
            }
            emergencyResult.classList.remove('hidden');
        });
    });

</script>

</body>

</html>